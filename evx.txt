document.getElementById('submitBtn').addEventListener('click', function() {
    // Constants for each food item
    const constants = {
        "cold coffi": 60,
        "Pani Puri": 30,
        "veg cheese Roll": 70,
        "Frankii": 50,
        "VeG Pulao": 50,
        "Idlli": 30,
        "Dosa": 40,
        "Momos": 120,
        "Green Tea": 20,
        "Tea": 10,
        "Gadbad": 80,
        "Faluda": 80
    };

    // Get all food item boxes
    const foodItemBoxes = document.querySelectorAll('.food_item_box');

    // Initialize arrays to hold data
    let foodNames = [];
    let innerHTMLValues = [];
    let constantValues = [];
    let costsForItems = [];

    // Iterate through each food item box
    foodItemBoxes.forEach(box => {
        const foodName = box.querySelector('.food_name p').textContent.trim();
        const innerHTMLValue = parseInt(box.querySelector('.counter').textContent);
        const constantValue = constants[foodName];

        if (innerHTMLValue > 0) {
            foodNames.push(foodName);
            innerHTMLValues.push(innerHTMLValue);
            constantValues.push(constantValue);

            // Calculate cost for current item
            const costForItem = innerHTMLValue * constantValue;
            costsForItems.push(costForItem);
        }
    });

    // Create the bill table
    let billTable = '<table><tr><th>Food Name</th><th>Quantity</th><th>Unit Cost</th><th>Amount</th></tr>';

    for (let i = 0; i < foodNames.length; i++) {
        billTable += `<tr><td>${foodNames[i]}</td><td>${innerHTMLValues[i]}</td><td>${constantValues[i]}</td><td>${costsForItems[i]}</td></tr>`;
    }

    billTable += '</table>';

    // Calculate total cost
    const totalCost = costsForItems.reduce((acc, curr) => acc + curr, 0);

    // Display the bill table and total cost
    document.getElementById('bill').innerHTML = billTable;
    document.getElementById('bill').innerHTML += `<p>Total Cost: ${totalCost}</p>`;
});





















// Define totalCost outside the submitBtn event listener
let totalCost = 0;
let cashClicked = false;
let onlineClicked = false;

document.getElementById('submitBtn').addEventListener('click', function() {
    // Your existing code for calculating the totalCost and generating the bill table goes here
            let totalOnline = 0;
        let cashClicked = false;
        let onlineClicked = false;

        document.getElementById('submitBtn').addEventListener('click', function() {
            // Constants for each food item
            const constants = {
                "cold coffi": 2,
                "Pani Puri": 3,
                "veg cheese Roll": 4,
                "Frankii": 5,
                "VeG Pulao": 6,
                "Idlli": 2,
                "Dosa": 3,
                "Momos": 4,
                "Green Tea": 2,
                "Tea": 1,
                "Gadbad": 5,
                "Faluda": 4
            };

            // Get all food item boxes
            const foodItemBoxes = document.querySelectorAll('.food_item_box');

            // Initialize arrays to hold data
            let foodNames = [];
            let innerHTMLValues = [];
            let constantValues = [];
            let costsForItems = [];

            // Iterate through each food item box
            foodItemBoxes.forEach(box => {
                const foodName = box.querySelector('.food_name p').textContent.trim();
                const innerHTMLValue = parseInt(box.querySelector('.counter').textContent);
                const constantValue = constants[foodName];

                if (innerHTMLValue > 0) {
                    foodNames.push(foodName);
                    innerHTMLValues.push(innerHTMLValue);
                    constantValues.push(constantValue);

                    // Calculate cost for current item
                    const costForItem = innerHTMLValue * constantValue;
                    costsForItems.push(costForItem);
                }
            });

            // Calculate total cost
            const totalCost = costsForItems.reduce((acc, curr) => acc + curr, 0);

            if (totalCost > 0) {
                // Create the bill table
                let billTable = '<table><tr><th>Food Name</th><th>Counter Value</th><th>Constant Value</th><th>Cost</th></tr>';

                for (let i = 0; i < foodNames.length; i++) {
                    billTable += `<tr><td>${foodNames[i]}</td><td>${innerHTMLValues[i]}</td><td>${constantValues[i]}</td><td>${costsForItems[i]}</td></tr>`;
                }

                billTable += '</table>';

                // Display the bill table and total cost
                document.getElementById('bill').innerHTML = billTable;
                document.getElementById('bill').innerHTML += `<p>Total Cost: ${totalCost}</p>`;
     });
    
    if (totalCost > 0) {
        // Display the bill table and total cost
        document.getElementById('bill').innerHTML = billTable;
        document.getElementById('bill').innerHTML += `<p>Total Cost: ${totalCost}</p>`;
        
        // Hide food items section
        document.querySelector('.food_items').style.display = 'none';
        
        // Display the cashBtn and onlineBtn
        document.getElementById('cashBtn').style.display = 'block';
        document.getElementById('onlineBtn').style.display = 'block';
    } else {
        // If total cost is 0, don't display the table
        document.getElementById('bill').innerHTML = '';
    }
});

document.getElementById('cashBtn').addEventListener('click', function() {
    if (!cashClicked) {
        document.getElementById('pisa').innerHTML = `Total Cash: ${totalCost}`;
        cashClicked = true;
        // Disable the button after clicking once
        this.disabled = true;
    }
});

document.getElementById('onlineBtn').addEventListener('click', function() {
    if (!onlineClicked) {
        document.getElementById('coin').innerHTML = `Total Online: ${totalCost}`;
        onlineClicked = true;
        // Disable the button after clicking once
        this.disabled = true;
    }
});








document.getElementById('submitBtn').addEventListener('click', function() {
    // Constants for each food item
    const constants = {
        "cold coffi": 2,
        "Pani Puri": 3,
        "veg cheese Roll": 4,
        "Frankii": 5,
        "VeG Pulao": 6,
        "Idlli": 2,
        "Dosa": 3,
        "Momos": 4,
        "Green Tea": 2,
        "Tea": 1,
        "Gadbad": 5,
        "Faluda": 4
    };

    // Get all food item boxes
    const foodItemBoxes = document.querySelectorAll('.food_item_box');

    // Initialize arrays to hold data
    let foodNames = [];
    let innerHTMLValues = [];
    let constantValues = [];
    let costsForItems = [];

    // Iterate through each food item box
    foodItemBoxes.forEach(box => {
        const foodName = box.querySelector('.food_name p').textContent.trim();
        const innerHTMLValue = parseInt(box.querySelector('.counter').textContent);
        const constantValue = constants[foodName];

        if (innerHTMLValue > 0) {
            foodNames.push(foodName);
            innerHTMLValues.push(innerHTMLValue);
            constantValues.push(constantValue);

            // Calculate cost for current item
            const costForItem = innerHTMLValue * constantValue;
            costsForItems.push(costForItem);
        }
    });

    // Calculate total cost
    const totalCost = costsForItems.reduce((acc, curr) => acc + curr, 0);

    if (totalCost > 0) {
        // Create the bill table
        let billTable = '<table><tr><th>Food Name</th><th>Counter Value</th><th>Constant Value</th><th>Cost</th></tr>';

        for (let i = 0; i < foodNames.length; i++) {
            billTable += `<tr><td>${foodNames[i]}</td><td>${innerHTMLValues[i]}</td><td>${constantValues[i]}</td><td>${costsForItems[i]}</td></tr>`;
        }

        billTable += '</table>';

        // Display the bill table and total cost
        document.getElementById('bill').innerHTML = billTable;
        document.getElementById('bill').innerHTML += `<p style="font-weight: bold;margin:2rem 0rem;">Total Cost: ${totalCost}â‚¹</p>`;
        document.getElementById('bill').innerHTML += `<p style="font-size:15px; text-align:center;font-family: 'Times New Roman', Times, serif;">Thank you for dining with us. Your presence brightened our day.</p>`;
        
        // Hide food items section
        document.querySelector('.food_items').style.display = 'none';
        document.querySelector('.submission').style.display = 'block';
    document.querySelector('.print').style.display = 'block';
        
    } else {
        // If total cost is 0, don't display the table
        document.getElementById('bill').innerHTML = '';
    }
});

document.querySelector('.printbtn').addEventListener('click', function() {
    const element = document.querySelector('.submission');
    
    html2pdf()
        .from(element)
        .save('bill.pdf');
});